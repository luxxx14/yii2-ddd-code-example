Pet код. Не оптимизирован, не рефакторен )